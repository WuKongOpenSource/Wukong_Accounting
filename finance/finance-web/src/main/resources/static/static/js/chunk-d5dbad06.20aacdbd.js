(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5dbad06"],{"224e":function(t,e,n){"use strict";n.d(e,"H",(function(){return i})),n.d(e,"D",(function(){return o})),n.d(e,"v",(function(){return c})),n.d(e,"C",(function(){return r})),n.d(e,"E",(function(){return s})),n.d(e,"F",(function(){return u})),n.d(e,"G",(function(){return d})),n.d(e,"I",(function(){return l})),n.d(e,"L",(function(){return p})),n.d(e,"J",(function(){return f})),n.d(e,"K",(function(){return h})),n.d(e,"u",(function(){return m})),n.d(e,"s",(function(){return b})),n.d(e,"t",(function(){return v})),n.d(e,"x",(function(){return y})),n.d(e,"w",(function(){return g})),n.d(e,"z",(function(){return j})),n.d(e,"y",(function(){return w})),n.d(e,"A",(function(){return C})),n.d(e,"B",(function(){return T})),n.d(e,"p",(function(){return x})),n.d(e,"k",(function(){return F})),n.d(e,"f",(function(){return _})),n.d(e,"r",(function(){return k})),n.d(e,"l",(function(){return O})),n.d(e,"g",(function(){return I})),n.d(e,"i",(function(){return L})),n.d(e,"h",(function(){return A})),n.d(e,"j",(function(){return V})),n.d(e,"q",(function(){return D})),n.d(e,"m",(function(){return S})),n.d(e,"n",(function(){return N})),n.d(e,"o",(function(){return E})),n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return P})),n.d(e,"d",(function(){return $})),n.d(e,"e",(function(){return U})),n.d(e,"c",(function(){return q}));n("d3b7"),n("159b"),n("b64b");var a=n("b775");function i(t){return Object(a["a"])({url:"financeSubject/queryListByType",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function o(t){return Object(a["a"])({url:"/financeSubject/".concat(t.subjectId?"update":"add"),method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(t){return Object(a["a"])({url:"/financeInitial/deleteByAssistId",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function r(t){return Object(a["a"])({url:"/financeInitial/queryByAdjuvant",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(t){return Object(a["a"])({url:"/financeSubject/deleteByIds",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(t){return Object(a["a"])({url:"/financeSubject/downloadExcel",method:"post",data:t,responseType:"blob",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function d(t){var e=new FormData;return Object.keys(t).forEach((function(n){e.append(n,t[n])})),Object(a["a"])({url:"/financeSubject/excelImport",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function l(t){return Object(a["a"])({url:"/financeSubject/updateStatus",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(t){return Object(a["a"])({url:"/financeVoucher/queryList",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(t){return Object(a["a"])({url:"/financeVoucher/".concat(t.voucherId?"update":"add"),method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(t){return Object(a["a"])({url:"/financeVoucher/deleteById",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function m(t){return Object(a["a"])({url:"/financeCurrency/queryAllList",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(t){return Object(a["a"])({url:"/financeCurrency/".concat(t.currencyId?"update":"add"),method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(t){return Object(a["a"])({url:"/financeCurrency/deleteById",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function y(t){return Object(a["a"])({url:"/financeInitial/queryPageBySubjectType",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(t){return Object(a["a"])({url:"/financeInitial/add",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function j(t){return Object(a["a"])({url:"/financeInitial/update",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(t){return Object(a["a"])({url:"/financeInitial/queryTrialBalance",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function C(t){return Object(a["a"])({url:"/financeParameter/queryParameter",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function T(t){return Object(a["a"])({url:"/financeParameter/updateParameter",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function x(t){return Object(a["a"])({url:"financeAdjuvant/queryAllList",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function F(t){return Object(a["a"])({url:"financeAdjuvant/queryCustomList",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function _(t){return Object(a["a"])({url:"financeAdjuvant/add",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(t){return Object(a["a"])({url:"financeAdjuvant/update",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function O(t){return Object(a["a"])({url:"financeAdjuvant/deleteById",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function I(t){return Object(a["a"])({url:"financeAdjuvantCarte/add",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(t){return Object(a["a"])({url:"financeAdjuvantCarte/update",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function A(t){return Object(a["a"])({url:"financeAdjuvantCarte/deleteById",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function V(t){return Object(a["a"])({url:"financeAdjuvantCarte/updateStatusById",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function D(t){return Object(a["a"])({url:"financeAdjuvantCarte/queryByAdjuvantId",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function S(t){return Object(a["a"])({url:"financeAdjuvantCarte/downloadExcel",method:"post",data:t,responseType:"blob",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function N(t){var e=new FormData;return Object.keys(t).forEach((function(n){e.append(n,t[n])})),Object(a["a"])({url:"financeAdjuvantCarte/excelImport",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function E(t){return Object(a["a"])({url:"financeAdjuvantCarte/exportExcel",method:"post",data:t,responseType:"blob",headers:{"Content-Type":"application/json;charset=UTF-8"}})}function B(t){return Object(a["a"])({url:"financeSubject/exportListByType",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}function P(t){return Object(a["a"])({url:"financeCertificate/exportPageBySubjectType",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}function $(t){return Object(a["a"])({url:"/financeCertificate/downloadFinanceInitialExcel",method:"post",data:t,headers:{"Content-Type":"application/json"},responseType:"blob"})}function U(t){var e=new FormData;return Object.keys(t).forEach((function(n){e.append(n,t[n])})),Object(a["a"])({url:"/financeCertificate/financeInitialImport",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}function q(t){return Object(a["a"])({url:"/financeCertificate/checkSubjectCertificate",method:"post",data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}},"3ea9":function(t,e,n){"use strict";n("def2")},ae7b:function(t,e,n){},def2:function(t,e,n){},f223:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container"},[t.showClassify?n("div",{staticClass:"content-header"},[n("span",{on:{click:t.goBack}},[t._v("辅助核算")])]):t._e(),t._v(" "),t.showClassify?n("div",{staticClass:"classify-box"},[t._l(t.classifyList,(function(e,a){return n("div",{key:a,staticClass:"classify-item",on:{click:function(n){t.targetList(e)}}},[n("div",{staticClass:"moreBtn",on:{click:function(t){t.stopPropagation()}}},[1!=e.adjuvantType?n("el-dropdown",{staticClass:"receive-drop",attrs:{trigger:"click"}},[n("i",{staticClass:"el-icon-more"}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){n.stopPropagation(),t.editClassify(e)}}},[t._v("编辑")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(n){n.stopPropagation(),t.deleteClassify(e)}}},[t._v("删除")])],1)],1):t._e()],1),t._v(" "),n("div",{staticClass:"classify-item-content"},[n("div",{staticClass:"icon"},[n("i",{staticClass:"wk",class:e.icon})]),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(e.adjuvantName))])])])})),t._v(" "),n("div",{staticClass:"classify-item lastRow",on:{click:function(e){t.openAddDialog()}}},[t._m(0)])],2):t._e(),t._v(" "),n("el-dialog",{attrs:{visible:t.addDialogVisible,title:t.classifyTitle,width:"400px"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[n("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.rules,"label-position":"top"}},[n("el-form-item",{staticClass:"wk-form-item",attrs:{"label-width":"50px",label:"名称",prop:"name"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveClassify("addForm")}}},[t._v("保存")]),t._v(" "),n("el-button",{on:{click:function(e){t.closeAddDialog()}}},[t._v("关闭")])],1)],1),t._v(" "),n("account-list-dialog",{attrs:{"account-dialog-visible":t.accountDialogVisible,"current-type":t.currentType,"fixed-list":t.fixedList,"adjuvant-custom-list":t.adjuvantCustomList}})],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"classify-item-content"},[n("div",{staticClass:"name"},[t._v("+ 新增分类")])])}],o=(n("4de4"),n("d3b7"),n("159b"),n("b0c0"),n("224e")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"account-list"},[t.accountDialogVisible?n("div",{staticClass:"content-list"},[n("flexbox",{staticClass:"main-header",attrs:{justify:"space-between"}},[n("span",{staticClass:"main-title"},[t._v("辅助核算")]),t._v(" "),n("div",{staticClass:"buttons"},[n("el-button",{attrs:{type:"primary"},on:{click:t.addAdjuvant}},[t._v("新增")]),t._v(" "),n("el-dropdown",{staticClass:"receive-drop",attrs:{trigger:"click"}},[n("el-button",{staticClass:"dropdown-btn",attrs:{icon:"el-icon-more"}}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.multipleSelection.length?n("el-dropdown-item",{nativeOn:{click:function(e){return t.batchDelete(e)}}},[t._v("删除")]):t._e(),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.importAccount(e)}}},[t._v("导入")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.exportAccount(e)}}},[t._v("导出")])],1)],1)],1)]),t._v(" "),n("flexbox",{staticClass:"content-flex",attrs:{justify:"space-between"}},[n("flexbox-item",{staticClass:"left-box"},[t._l(t.fixedList,(function(e,a){return n("el-button",{key:a,attrs:{type:t.accountType==e.adjuvantId?"selected":""},on:{click:function(n){t.accountType=e.adjuvantId}}},[t._v("\n          "+t._s(e.adjuvantName)+"\n        ")])})),t._v(" "),n("el-select",{staticClass:"custom-select",attrs:{mode:"no-border",placeholder:"选择自定义辅助核算"},model:{value:t.customValue,callback:function(e){t.customValue=e},expression:"customValue"}},t._l(t.customOptions,(function(t){return n("el-option",{key:t.adjuvantId,attrs:{label:t.adjuvantName,value:t.adjuvantId}})}))),t._v(" "),n("el-input",{staticClass:"searchInput",attrs:{placeholder:"输入关键词"},on:{change:function(e){t.searchInputChange()}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[n("el-button",{attrs:{slot:"suffix",type:"icon",icon:"wk wk-sousuo"},on:{click:t.handlerSearch},slot:"suffix"})],1)],2)],1),t._v(" "),n("div",{staticClass:"account-table"},[n("el-table",{attrs:{id:"table",data:t.listData,height:"92%","row-key":"carteId",stripe:"","default-expand-all":"",border:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.accountList,(function(e,a){return n("el-table-column",{key:a,attrs:{prop:e.field,label:e.label,width:e.width,formatter:t.fieldFormatter,"show-overflow-tooltip":""}})})),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){t.accountStatus(e)}}},[t._v("\n              "+t._s(1==e.row.status?"已启用":"已禁用")+"\n            ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary-text"},on:{click:function(n){t.accountEdit(e.row,n)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"primary-text"},on:{click:function(n){t.accountDelete(e.row)}}},[t._v("删除")])]}}])})],2),t._v(" "),n("div",{staticClass:"p-contianer"},[n("el-pagination",{staticClass:"p-bar",attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,total:t.total,background:"",layout:"prev, pager, next, sizes, total, jumper"},on:{"update:pageSize":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),t.addDialogVisible?n("el-dialog",{attrs:{visible:t.addDialogVisible,title:t.dialogTitle,"append-to-body":"",width:"25%"},on:{"update:visible":function(e){t.addDialogVisible=e}}},[n("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.rules}},[n("el-form-item",{attrs:{"label-width":"80px",label:"编码：",prop:"carteNumber"}},[n("el-input",{model:{value:t.addForm.carteNumber,callback:function(e){t.$set(t.addForm,"carteNumber",e)},expression:"addForm.carteNumber"}})],1),t._v(" "),n("el-form-item",{attrs:{"label-width":"80px",label:"名称：",prop:"carteName"}},[n("el-input",{model:{value:t.addForm.carteName,callback:function(e){t.$set(t.addForm,"carteName",e)},expression:"addForm.carteName"}})],1),t._v(" "),6==t.accountLabel?n("el-form-item",{attrs:{"label-width":"80px",label:"规格：",prop:"specification"}},[n("el-input",{model:{value:t.addForm.specification,callback:function(e){t.$set(t.addForm,"specification",e)},expression:"addForm.specification"}})],1):t._e(),t._v(" "),6==t.accountLabel?n("el-form-item",{attrs:{"label-width":"80px",label:"单位：",prop:"unit"}},[n("el-input",{model:{value:t.addForm.unit,callback:function(e){t.$set(t.addForm,"unit",e)},expression:"addForm.unit"}})],1):t._e(),t._v(" "),[1,2].includes(t.accountLabel)?n("el-form-item",{attrs:{"label-width":"80px",label:"备注：",prop:"remark"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.addForm.remark,callback:function(e){t.$set(t.addForm,"remark",e)},expression:"addForm.remark"}})],1):t._e()],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveAdjuvant("addForm")}}},[t._v("保存")]),t._v(" "),n("el-button",{on:{click:function(e){t.closeAccountDialog()}}},[t._v("关闭")])],1)],1):t._e()],1):t._e()])},r=[],s=n("5530"),u=(n("a9e3"),n("caad"),n("c740"),n("7db0"),n("ac1f"),n("841c"),n("d81d"),n("6bfe")),d=n("ed08"),l={name:"AccountList",components:{},props:{accountDialogVisible:{type:Boolean,default:!1},currentType:{type:[String,Number],default:1},fixedList:{type:Array},adjuvantCustomList:{type:[Array]}},data:function(){return{loading:!1,action:{type:"add"},listData:[],multipleSelection:[],addDialogVisible:!1,isEdit:!1,currentParamsType:"",accountType:"",accountLabel:0,customValue:"",customOptions:[],searchValue:"",carteId:"",addForm:{carteNumber:"",carteName:"",specification:"",unit:"",remark:""},rules:{carteNumber:[{required:!0,message:"编码不能为空",trigger:"blur"}],carteName:[{required:!0,message:"名称不能为空",trigger:"blur"}]},currentPage:1,pageSize:10,pageSizes:[10,20,30,40,50,100],total:0}},computed:{dialogTitle:function(){return this.isEdit?"编辑辅助核算":[1,2,3,4,5,6].includes(this.accountLabel)?"新增"+{1:"客户",2:"供应商",3:"职员",4:"项目",5:"部门",6:"存货"}[this.accountLabel]:""},accountList:function(){return[1,2].includes(this.accountLabel)?[{label:"编码",field:"carteNumber",width:"150px"},{label:"名称",field:"carteName"},{label:"备注",field:"remark"}]:[6].includes(this.accountLabel)?[{label:"编码",field:"carteNumber",width:"150px"},{label:"名称",field:"carteName"},{label:"规格",field:"specification"},{label:"单位",field:"unit"}]:[{label:"编码",field:"carteNumber",width:"150px"},{label:"名称",field:"carteName"}]}},watch:{currentType:{handler:function(t){var e=this.fixedList.findIndex((function(e){return e.adjuvantId==t}));-1!=e?(this.accountType=t,this.customValue=""):(this.accountType="",this.customValue=t),this.currentParamsType=t},immediate:!0},adjuvantCustomList:{handler:function(t){t.length>0&&(this.customOptions=t)},immediate:!0,deep:!0},accountType:function(t){t&&(this.customValue="",this.currentParamsType=t)},customValue:{handler:function(t){t&&(this.accountType="",this.currentParamsType=t)},immediate:!0},currentParamsType:{handler:function(t){this.getAccountList();var e=this.fixedList.find((function(e){return e.adjuvantId==t}));Object(u["c"])(e)?this.accountLabel=7:this.accountLabel=e.label},immediate:!0}},created:function(){this.getAccountList()},methods:{getAccountList:function(){var t=this;this.loading=!0;var e={page:this.currentPage,limit:this.pageSize,adjuvantId:this.currentParamsType};this.searchValue&&(e.search=this.searchValue,e.page=1),Object(o["q"])(e).then((function(e){t.loading=!1,t.listData=e.data.list,t.total=e.data.totalRow})).catch((function(){t.loading=!1}))},searchInputChange:function(){this.searchValue||this.getAccountList()},handlerSearch:function(){this.getAccountList()},handleCurrentChange:function(t){this.currentPage=t,this.getAccountList()},handleSizeChange:function(t){this.pageSize=t,this.getAccountList()},importAccount:function(){this.$wkImport.import("fmAssist",{typeName:"辅助项",historyShow:!1,noImportProcess:!0,ownerSelectShow:!1,repeatHandleShow:!1,importRequest:o["n"],templateRequest:o["m"],importParams:{label:this.accountLabel,adjuvantId:this.currentParamsType},templateParams:{label:this.accountLabel}})},batchDelete:function(){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.loading=!0;var e=t.multipleSelection.map((function(t){return t.carteId}));Object(o["h"])(e).then((function(e){t.$message.success("操作成功"),t.getAccountList(),t.loading=!1})).catch((function(){t.loading=!1})).catch((function(){}))}))},exportAccount:function(){var t={page:this.currentPage,limit:this.pageSize,adjuvantId:this.currentParamsType};this.searchValue&&(t.search=this.searchValue,t.page=1),Object(o["o"])(t).then((function(t){Object(d["b"])(t)})).catch((function(){}))},handleSelectionChange:function(t){this.multipleSelection=t},fieldFormatter:function(t,e){return t[e.property]},accountEdit:function(t){this.carteId=t.carteId;var e=t.carteNumber,n=t.carteName,a=t.specification,i=t.unit,o=t.remark;this.addForm={carteNumber:e,carteName:n,specification:a,unit:i,remark:o},this.isEdit=!0,this.addDialogVisible=!0},accountDelete:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=[t.carteId];Object(o["h"])(n).then((function(t){e.$message.success("操作成功"),e.getAccountList()})).catch((function(){}))})).catch((function(){}))},accountStatus:function(t){var e=this;this.$confirm("您确定要"+(1==t.row.status?"停用":"启用")+"该辅助项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["j"])({carteId:t.row.carteId,status:1==t.row.status?2:1}).then((function(n){t.row["status"]=1==t.row["status"]?2:1,e.$message({type:"success",message:"操作成功"})})).catch((function(){}))})).catch((function(){}))},addAdjuvant:function(){this.resetForm(),this.isEdit=!1,this.addDialogVisible=!0},saveAdjuvant:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;var n=e.isEdit?o["i"]:o["g"],a=Object(s["a"])(Object(s["a"])({},e.addForm),{},{adjuvantId:e.currentParamsType});e.isEdit&&(a.carteId=e.carteId),n(a).then((function(t){e.$message.success("保存成功"),e.getAccountList()})).catch((function(){})),e.resetForm(),e.addDialogVisible=!1}))},closeAccountDialog:function(){this.isEdit=!1,this.addDialogVisible=!1,this.resetForm()},resetForm:function(){var t;this.addForm={carteNumber:"",carteName:"",specification:"",unit:"",remark:""},null===(t=this.$refs.addForm)||void 0===t||t.resetFields()}}},p=l,f=(n("3ea9"),n("2877")),h=Object(f["a"])(p,c,r,!1,null,"8b8dbbbc",null),m=h.exports,b={name:"AssistAccounting",components:{accountListDialog:m},data:function(){return{loading:!1,showClassify:!0,accountDialogVisible:!1,addDialogVisible:!1,isEdit:!1,addForm:{name:"",adjuvantId:""},rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}]},classifyList:[],fixedList:[],adjuvantCustomList:[],currentType:null}},computed:{classifyTitle:function(){return this.isEdit?"编辑分类":"新增分类"},isLastRow:function(){return function(t){return t>=this.classifyList.length-this.classifyList.length%4}}},watch:{addDialogVisible:function(t){t||this.resetAddForm()}},created:function(){this.getAdjuvantList()},methods:{getAdjuvantList:function(){var t=this;this.loading=!0,Object(o["p"])().then((function(e){t.fixedList=e.data.filter((function(t){return t.label<7})),t.classifyList=e.data,t.classifyList.forEach((function(t){t.icon={1:"wk-customer",2:"wk-icon-supplier",3:"wk-icon-Member-management",4:"wk-project",5:"wk-department",6:"wk-icon-stock",7:"wk-icon-business-accounting"}[t.label]})),t.loading=!1})).catch((function(){t.loading=!1})),Object(o["k"])().then((function(e){t.adjuvantCustomList=e.data})).catch((function(){}))},targetList:function(t){this.showClassify=!1,this.accountDialogVisible=!0,this.currentType=t.adjuvantId},goBack:function(){this.showClassify=!0,this.accountDialogVisible=!1},openAddDialog:function(){this.isEdit=!1,this.addDialogVisible=!0},closeAddDialog:function(){this.addDialogVisible=!1,this.resetAddForm(),this.$refs.addForm.resetFields()},resetAddForm:function(){this.isEdit=!1,this.addForm={name:"",adjuvantId:""}},saveClassify:function(t){var e=this;this.$refs[t].validate((function(n){if(!n)return!1;var a=e.isEdit?o["r"]:o["f"],i={adjuvantName:e.addForm.name};e.isEdit&&(i.adjuvantId=e.addForm.adjuvantId),a(i).then((function(t){e.getAdjuvantList()})).catch((function(){})),e.addDialogVisible=!1,e.$refs[t].resetFields()}))},editClassify:function(t){this.isEdit=!0,this.addDialogVisible=!0,this.addForm.name=t.adjuvantName,this.addForm.adjuvantId=t.adjuvantId},deleteClassify:function(t){var e=this;this.$confirm("删除后不可恢复！您确定要删除该辅助核算吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["l"])({adjuvantId:t.adjuvantId}).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getAdjuvantList()})).catch((function(){}))})).catch((function(){}))}}},v=b,y=(n("fc83"),Object(f["a"])(v,a,i,!1,null,"c1eec032",null));e["default"]=y.exports},fc83:function(t,e,n){"use strict";n("ae7b")}}]);